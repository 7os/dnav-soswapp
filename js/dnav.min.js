/*! 7OS -Web dnav: https://github.com/7os/dnav-soswapp
  ! Requires 7os/theme-soswapp available @ https://github.com/7os/theme-soswapp
*/
if(typeof sos=="undefined"){window.sos={}}if(typeof sos.config!=="object"){sos.config={}}if(typeof sos.config.dnav!=="object"){sos.config.dnav={}}sos.dnav={navList:{},defaultSet:function(){if(sos.config.dnav.iniTopPos===undefined){sos.config.dnav.iniTopPos=0}if(sos.config.dnav.top===undefined){sos.config.dnav.top=0}if(sos.config.dnav.pos===undefined){sos.config.dnav.pos="affix"}if(sos.config.dnav.clearElem===undefined){sos.config.dnav.clearElem=""}if(sos.config.dnav.fullWidth===undefined){sos.config.dnav.fullWidth=false}if(sos.config.dnav.stickOn===undefined){sos.config.dnav.stickOn=""}if(sos.config.dnav.container===undefined){sos.config.dnav.container=""}if(sos.config.dnav.iconPos===undefined){sos.config.dnav.iconPos="left"}},setup:function(a){if(typeof a=="object"){$.each(a,function(b,c){if(sos.config.dnav[b]!==undefined){if(b in ["iniTopPos","top"]){sos.config.dnav[b]=parseInt(c)}else{if(b in ["fullWidth"]){sos.config.dnav[b]=parseBool(c)}else{sos.config.dnav[b]=c}}}})}},init:function(a){if(typeof a=="object"){var b=sos.dnav.checkNavList(a);if(!b){console.error("Invalid navigation list. Kindly reffer/comform to DragNag manual @ https://github.com/7os/dnav-soswapp");return false}sos.dnav.navList=b;sos.dnav.populate()}else{sos.dnav.fetchFile(a,sos.dnav.init)}},populate:function(){if(typeof sos.dnav.navList=="object"&&sos.dnav.navList.length>0){var e=sos.dnav.navList;if(typeof e!=="object"||e.length<=0){console.error("No navigation list to display");return false}var b=sos.config.dnav,d=(typeof b.pos!=="undefined"?b.pos:"affix"),f=(parseBool(b.fullWidth)==true),a=b.iconPos,c='<nav id="sos-dnav" class="theme-font color color-face '+d+'">';if(!f){c+='<div class="view-space">'}c+='<button class="sos-btn regular" id="sos-dnav-scroll-left"><i class="fas fa-angle-left"></i></button>';c+='<button class="sos-btn regular" id="sos-dnav-scroll-right"><i class="fas fa-angle-right"></i></button>';c+='<div id="sos-dnav-wrap" class="show-direction">';c+="<ul>";$.each(e,function(h,g){c+='<li class="'+(g.classname!==undefined?g.classname:"");if(g.name==sos.config.page.name){c+=" sos-dnav-current"}c+='"> <a "';if(g.onclick!==""||g.onclick!==undefined){c+=' onclick="'+g.onclick+'" '}c+=' href="'+g.link+'" ';c+=">";if(a=="left"){c+=g.icon+" "}c+=g.title;if(a=="right"){c+=(" "+g.icon)}c+="</a> </li>"});c+="</ul> </div>";if(!f){c+="</div>"}c+="</nav>";$("body").prepend(c);sos.dnav.show();sos.dnav.showDirection()}else{console.error("No navigation to show")}},fetchFile:function(b,c){var a={group:sos.config.page.group,format:"json"};$.ajax({url:b,data:a,dataType:"json",type:"get",success:function(d){if(d&&(d.status=="0.0"||d.errors.length<=0)){c(d.navlist);return true}else{console.error("Failed to load navigation from: "+b+". Error: "+d.message)}},error:function(){console.error("Failed to load navigation from: "+b)}});return false},checkNavList:function(a){return a},show:function(){if($(document).find("#sos-dnav.affix, #sos.dnav.fixed").length>0){var b=sos.config.dnav,c=$(b.stickOn);var a=c.length>0?(c.offset().top+c.outerHeight())-$(window).scrollTop():(typeof b.iniTopPos!==undefined?b.iniTopPos:0),d=$(document).find("#sos-dnav.affix").length>0?$(document).find("#sos-dnav.affix"):$(document).find("#sos-dnav.fixed");d.animate({top:a,opacity:1},200,function(){sos.dnav.width();if(b.clearElem.length>0){var f=$(b.clearElem),e=f.length<=0?0:parseFloat(f.css("margin-top").replace("px",""));if(f.length>0){f.animate({marginTop:d.outerHeight()+e},200)}}})}},hide:function(){if($(document).find("#sos-dnav.affix, #sos-dnav.fixed").length>0){var b=$(document).find("#sos-dnav.affix").length>0?$(document).find("#sos-dnav.affix"):$(document).find("#sos-dnav.fixed"),a=b.outerHeight();b.animate({top:-a,opacity:0},200,function(){if(sos.config.dnav.clearElem.length>0){var d=$(sos.config.dnav.clearElem),c=d.length<=0?0:parseFloat(d.css("margin-top").replace("px",""));if(d.length>0){d.animate({marginTop:b.outerHeight()-c},200)}}})}},showDirection:function(){var c=$(document).find("#sos-dnav");if(c.length>0){var b=$(window).width(),a=0;$(document).find("#sos-dnav ul li").each(function(){a+=$(this).outerWidth()});if(a>b){c.addClass("show-direction")}else{$("#sos-dnav #sos-dnav-wrap").animate({scrollLeft:0},300);c.removeClass("show-direction")}}},width:function(){var b=$(document).find("#sos-dnav");if(b.length>0){var a=0,c=$(document).find("#sos-dnav ul li");c.each(function(d){a+=$(this).outerWidth()});$(b).find("ul:first").width(a);sos.dnav.showDirection()}}};(function(){sos.dnav.defaultSet();$(window).bind("resize",function(){sos.dnav.width()});$(document).on("mouseover","#sos-dnav.show-direction",function(){$("#sos-dnav #sos-dnav-scroll-left, #sos-dnav #sos-dnav-scroll-right").css({display:"block",opacity:1});$(document).on("mouseout","#sos-dnav.show-direction",function(){$("#sos-dnav #sos-dnav-scroll-left, #sos-dnav #sos-dnav-scroll-right").css({display:"none",opacity:0})})});$(window).scroll(function(){if($(document).find("#sos-dnav.affix, #sos-dnav.fixed").length>0&&config.dnav.initop>0){var a=$(sos.config.dnav.stickOn);var c=(a.offset().top+a.outerHeight())-$(window).scrollTop();c=c>=sos.config.dnav.top?c:sos.config.dnav.top;if(a.length>0){var b=$(document).find("#sos-dnav.affix").length>0?$(document).find("#sos-dnav.affix"):$(document).find("#sos-dnav.fixed");b.css({top:c+"px"})}}});$(document).on("click","#sos-dnav #sos-dnav-scroll-left",function(){var a=$("#sos-dnav #sos-dnav-wrap").scrollLeft()-100;$("#sos-dnav #sos-dnav-wrap").animate({scrollLeft:a},300)});$(document).on("click","#sos-dnav #sos-dnav-scroll-right",function(){var a=$("#sos-dnav #sos-dnav-wrap").scrollLeft()+100;$("#sos-dnav #sos-dnav-wrap").animate({scrollLeft:a},300)})})();